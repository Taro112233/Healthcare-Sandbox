// prisma/schemas/user.prisma
// ===== HEALTHTECH SANDBOX - USER SCHEMA (Simplified - No Multi-tenant) =====

model User {
  id            String      @id @default(cuid())
  email         String?     // Optional for notifications/recovery
  username      String      @unique  // Primary login credential
  password      String      // bcrypt hashed
  
  // Personal Information
  firstName     String
  lastName      String
  phone         String?
  
  // Role (Simple - USER or ADMIN only)
  role          UserRole    @default(USER)
  
  // Account Status
  status        UserStatus  @default(ACTIVE)
  isActive      Boolean     @default(true)
  emailVerified Boolean     @default(false)
  
  // Security
  lastLogin     DateTime?
  
  // Timestamps
  createdAt     DateTime    @default(now())
  updatedAt     DateTime    @updatedAt
  
  // Relations
  requests      Request[]
  comments      Comment[]
  statusChanges StatusHistory[]
  
  @@index([email])
  @@index([username])
  @@index([role])
  @@index([isActive])
  @@map("users")
}